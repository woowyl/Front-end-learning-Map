### 高速缓存原理
早期计算机系统的存储结构只有三层：CPU寄存器、DRAM主存储器和磁盘存储。不过，由于CPU和主存之间逐渐增大的距离，系统设计者被迫在CPU寄存器文件和主存之间插入了一个小的SRAM高速缓存存储器，称为L1高速缓存。随着CPU和主存之间的性能差距不断增大，系统设计者在L1高速缓存更大的高速缓存，称为L2高速缓存。有些现代计算机还包括一个更大的高速缓存，称为L3缓存。

### 高速缓存对性能的影响
1. 让最常见的情况运行得快。程序通常把大部分时间都花在少量的核心函数上，而这些函数通常把大部分时间都花在了少量的循环上。所以要把注意力集中在核心函数的循环上，而忽略其他部分。

2. 在每个循环内部使缓存不命中数量最小。在其他条件，例如加载和存储的总次数相同的情况下，不命中率低的程序运行得更快。

注意：编译器将局部变量存储到寄存器中，因此循环内对局部变量的引用不需要任何加载或存储指令
#### 高速缓存对程序性能的影响
3. 通过重新排列循环以提高空间局部性：降低高速缓冲的不命中率。例子（求两个矩阵的乘积）

4. 使用分块来提高时间局部性。  
    - 分块的大致思想是将一个程序中的数据结构组织成称为块（block）的组块（chunk）。这里的“块”指的是一个应用级的块，不是高速缓冲块。这样构造程序，使得能够将一个块加载到L1高速缓存中，并在这个块中进行所需的所有的读和写，然后丢掉这个块，加载下一个块，以此类推。
