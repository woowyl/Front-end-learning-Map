## JS的单线程和异步
提到JavaScript，你会想到哪些词汇，脚本语言、解释性语言、弱类型、单线程、异步。
没错
### JS的诞生
在1995年时，由Netscape公司的Brendan Eich，在网景导航者浏览器上首次设计实现而成。他当初的设计思想主要是未了解决一些浏览器端简单的用户交互。

### JS的发展

#### jquery 到 MV*

#### nodeJS 到 Deno
JS功能

Node 之父 Ryan Dahl 发布新的开源项目 deno，从官方介绍来看，可以认为它是下一代 Node，使用 Go 语言代替 C++ 重新编写跨平台底层内核驱动，上层仍然使用 V8 引擎，最终提供一个安全的 TypeScript 运行时。
deno 和 Node 的区别是什么？
ry 开玩笑称，目前两者最大的区别是 Node 大行其道，而 Deno 尚未投入使用。

从更高层面上来说，Deno 尽可能简化 V8 与系统 API 的耦合，并打造更加简单、稳定的模块系统，以及一个安全的沙箱运行环境。

再者，使用 Golang 而不是 C++ 作为底层语言，这样，添加高级功能时会比在 Node 中更加容易，比如在 Go 中添加 http2.0支持，只需添加一些路由 API 和一些配置到 protobuf 中。

Deno 诞生的目的，是为了创建更简单和安全的非浏览器 runtime，它在这个时候出现，是因为现在的开发工具比 2009 年更好。

我们还可以认为 Deno 将是目前 Node 生态一些难解问题的终极答案，比如依赖管理、安全性、稳定性、横向扩展等等。

Deno 的诞生，将启发更多人投入到下一代 Node 的探索当中，这比之前 Node 的一些分叉更具备创新和革命性。
目前 Deno 正在紧张开发当中，我们也将持续关注它的进展。
Deno Github 地址：[https://github.com/ry/deno](https://github.com/ry/deno)

#### ELECTRONJS
如果你说JS只能完成，浏览器的非空判断，那么你要重新认识一下JS了。
ELECTRONJS 是一款使用 JavaScript, HTML 和 CSS 构建跨平台桌面应用的工具。使用它开发的软件有那些呢？



### JS的单线程和异步
JS之所以能有好的发展，和他的单线程（single threaded）和异步（asynchronous）有很大关系。多同学可能会感觉，单线程和异步不是自相矛盾的两件事么？确实，异步就需要多线程，但是这个多线程说的是软件，而不是JS语言本身。怎么理解。  
JS语言本身是单线程解释执行的，但是他的监视器却帮助它完成了异步的操作。比如说我们常常提到的异步接口请求，指的是js通过浏览器发送了一个HTTP请求，这个请求发出后，JS语言不会等结果返回再执行后面的代码，而是立马执行这个接口后的代码，等这个HTTP请求返回结果后，通过回调的方式，再回到JS的线程去执行。


理解了这个原理后，我们通过一个简单的例子来考一下你，是否真的理解了单线程:

### 一个问题
```javascript
    //代码段1

    setTimeout(function() {
        console.log("Hello setTimeout");
    },1000);

    //代码段2

```
以上代码，代码段1执行需要消耗1s,代码段2执行需要消耗2s，请问从这段代码开始执行多少秒后，输出`Hello setTimeout`?
你有答案么？是1s 2s 3s还是4s呢？


OK答案就是4s,你答对了么？
JS的线程会执行代码段1，耗时1s,然后到setTimeout函数，这个函数会启动异步机制，function里的代码将在1s后执行，但是请注意，这个1s不是当前的1s而是代码执行完成后的1s。也就是说JS线程会继续执行代码段2，耗时2s,结束之后回过头会1s的延迟执行setTimeout里的方法。所以总耗时就是1s+2s+1s = 4s 。可以把JS想想成一根筋，他会一股脑把代码先执行完，然后回过头再去看异步的结果。

### 展望
展望美好未来，随着5G时代的到来以及硬件性能的不断提高，JS在客户端和服务器端的潜力都将继续得到更多的挖掘。


#### reference
- [js的单线程和异步](https://www.cnblogs.com/woodyblog/p/6061671.html)
- [ELECTRON官网](https://electronjs.org/)